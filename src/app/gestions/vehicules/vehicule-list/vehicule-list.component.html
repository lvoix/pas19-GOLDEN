<div class="main-content">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header card-header-danger">
                        <h4 class="card-title ">List des vehicules</h4>
                        <p class="card-category"> ensemble de poids lourd</p>
                    </div>

                    <div class="card-body">
                        <div class="table-responsive">
                            <table  class="table table-striped table-bordered table-sm row-border hover" tableFilter datatable [dtOptions]="dtOptions" show-filter="true">
                                <thead class=" text-primary">
                                    <th>
                                       ID
                                    </th>
                                    <th>
                                       MATRICULE 

                                    </th>
                                    <th>
                                         GENRE 
                                    </th>
                                    <th>
                                        Date creation
                                    </th>
                                    <th>
                                        Type
                                    </th>
                                    <th>
                                            Societe
                                        </th>
                                    <th>
                                        Actions
                                    </th>
                                    <th><a class="btn btn-sm btn-success text-white" (click) ="AddOrEditVehicule(null, IdVehicule)"><i class="fa fa-plus"></i> Add</a></th>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td>  <input
                                            type="text"
                                            class="form-control"
                                            value=""
                                            name="matriculeSearch"
                                            placeholder="Matricule to search..."
                                            [(ngModel)]="matriculeSearch"
                                          /> 
                                        </td>
                                        <td>
                                                <input
                                                (input)="SearshByGenre()"
                                                type="text"
                                                class="form-control"
                                                name="genreSearch"
                                                placeholder="Genre to search..."
                                                [(ngModel)]="genre"
                                              /> 
                                        </td>
                                        <td></td>
                                        <td>
                                                <input
                                                type="text"
                                                (input)="SearshByType()"
                                                class="form-control"
                                                name="type"
                                                placeholder="Type to search..."
                                                [(ngModel)]="type"
                                              />
                                        </td>
                                        <td> <input
                                            (input)="SearshByEntite()"
                                            type="text"
                                            class="form-control"
                                            name="societeSearch"
                                            placeholder="Societe to search..."
                                            [(ngModel)]="societe"
                                          /> </td>
                                        <td></td>
                                    </tr>
                                    <tr *ngFor="let vehicule of listvehicules | filter : {matricule : matriculeSearch }; let i = index">
                                        <td filter="{ 'id': 'text' }">{{vehicule.id}}</td>
                                        <td>{{vehicule.matricule}}</td>
                                        <td>{{vehicule.genre}}</td>
                                        <td class="text-primary">{{vehicule.dateCreation | date :'yyyy-MM-dd'}}</td>
                                        <td>{{vehicule.vehiculeType}}</td>
                                        <td>{{vehicule.entites.name}}</td>
                                        <td>
                                            <button class="btn btn-sm btn-info" (click) ="AddOrEditVehicule(i, vehicule)">Edit</button>
                                            <button class="btn btn-sm btn-danger" (click)="deletVehicule(vehicule)">Delete</button></td>
                                        </tr>
                                </tbody>
                            </table>
                    </div>
                    <br>
          <!--           <div class="center-pagination">
                            <pagination-template #p="paginationApi" [id]="config.id" (pageChange)="config.currentPage = $event">
                                    <div class="custom-pagination">
                                      <div class="pagination-previous" [class.disabled]="p.isFirstPage()">
                                        <span *ngIf="!p.isFirstPage()" (click)="p.previous()">
                                          <
                                            </span>
                                        </div>
                                        <div class="page-number" *ngFor="let page of p.pages" [class.current]="p.getCurrent() === page.value">
                                              <span (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">{{ page.label }}</span>
                                            <div *ngIf="p.getCurrent() === page.value">
                                              <span>{{ page.label }}</span>
                                            </div>
                                        </div>
                                        <div class="pagination-next" [class.disabled]="p.isLastPage()">
                                          <span *ngIf="!p.isLastPage()" (click)="p.next()"> > </span>
                                        </div>
                                    </div>
                                
                                  </pagination-template>
                                </div> -->
                  <!--               <div class="card-footer pb-0 pt-3">
                                    <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                                        <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item first-item">
                                            <a routerLink [queryParams]="{ page: 1 }" class="page-link">First</a>
                                        </li>
                                        <li [ngClass]="{disabled:pager.currentPage === 1}" class="page-item previous-item">
                                            <a routerLink [queryParams]="{ page: pager.currentPage - 1 }" class="page-link">Previous</a>
                                        </li>
                                        <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}" class="page-item number-item">
                                            <a routerLink [queryParams]="{ page: page }" class="page-link">{{page}}</a>
                                        </li>
                                        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item next-item">
                                            <a routerLink [queryParams]="{ page: pager.currentPage + 1 }" class="page-link">Next</a>
                                        </li>
                                        <li [ngClass]="{disabled:pager.currentPage === pager.totalPages}" class="page-item last-item">
                                            <a routerLink [queryParams]="{ page: pager.totalPages }" class="page-link">Last</a>
                                        </li>
                                    </ul>
                                </div> -->
                                <jw-pagination [items]="vehicules" (changePage)="onChangePage($event)"></jw-pagination>

                </div>
                </div>
                      <div class="fab" routerLink="/home/vehicule"> + </div>
            </div>
        </div>
    </div>
  </div>